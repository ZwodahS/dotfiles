#!/usr/bin/env bash

# Usage:
# put this file in your $PATH, like ( ~/bin )
# run ". goenv" in the root level of your go project.

# idea taken from python virtual env
if [ -z "$_PS1_WITHOUT_GO" ]; then
    export _PS1_WITHOUT_GO="$PS1"
    export _PATH_WITHOUT_GO="$PATH"
fi
GOPATH=$(pwd);
export GOPATH=$GOPATH;
export PATH=$_PATH_WITHOUT_GO:$GOPATH/bin;

___go_header___() {
    if [ -z "$GOPATH" ]; then
        echo "";
    else
        echo "(go)";
    fi
}
export PS1="$(___go_header___)$_PS1_WITHOUT_GO"

gowhere() {
    echo "GOPATH at $GOPATH";
}

gothere() {
    cd $GOPATH;
}
